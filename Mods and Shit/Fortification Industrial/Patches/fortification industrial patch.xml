<?xml version="1.0" encoding="utf-8"?>
<Patch>
	
<!-- CARAVAN -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_FuelGenerator"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>
	
<!-- PRODUCTION -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_TableLathe"]</xpath>
		<value>
			<designationCategory>Ferny_Production</designationCategory>
		</value>
	</Operation>
	
<!-- PROCESSING PRODUCTION -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_TableConcreteMixer"]</xpath>
		<value>
			<designationCategory>Ferny_ProcessingProduction</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_TableChemistry"]</xpath>
		<value>
			<designationCategory>Ferny_ProcessingProduction</designationCategory>
		</value>
	</Operation>
	
<!-- AUXILIARIES -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_ENIAC"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Auxiliaries</designationCategory>
		</value>
	</Operation>
	
<!-- OUTREACH -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_Radio"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Outreach</designationCategory>
		</value>
	</Operation>
	
<!-- TRADE -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_AntennaTower"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Trade</designationCategory>
		</value>
	</Operation>
	
<!-- FIREFOAM -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_FirefoamPopper"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Firefoam</designationCategory>
		</value>
	</Operation>
	
<!-- BARRICADES -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_Sandbag"]</xpath>
		<value>
			<designationCategory>Ferny_Barricades</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_WallSandbag"]</xpath>
		<value>
			<designationCategory>Ferny_Barricades</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_TankTrap"]</xpath>
		<value>
			<designationCategory>Ferny_Barricades</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_Tetrapods"]</xpath>
		<value>
			<designationCategory>Ferny_Barricades</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_Barrier"]</xpath>
		<value>
			<designationCategory>Ferny_Barricades</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_BarrierDiagonal"]</xpath>
		<value>
			<designationCategory>Ferny_Barricades</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_TankTrap"]/designatorDropdown</xpath>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_Tetrapods"]/designatorDropdown</xpath>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_Barrier"]/designatorDropdown</xpath>
	</Operation>

	<Operation Class="PatchOperationRemove">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="FT_BarrierDiagonal"]/designatorDropdown</xpath>
	</Operation>
	
<!-- WEAPONS -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[@Name="FT_MGNest"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Weapons</designationCategory>
		</value>
	</Operation>
	
<!-- WEAPONS -->

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[@ParentName="FT_BaseCannonBuilding_Deployable"]</xpath>
		<value>
			<designationCategory>Ferny_Weapons</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>Defs/ThingDef[@ParentName="FT_BaseCannonBuilding_Mobile"]</xpath>
		<value>
			<designationCategory>Ferny_Weapons</designationCategory>
		</value>
	</Operation>
	
<!-- FOUNDATIONS -->

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Furniture Expanded - Architect</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>

				<li Class="PatchOperationReplace">
					<success>Always</success>
					<xpath>Defs/TerrainDef[defName="VFEArch_BridgeConcrete"]/designationCategory</xpath>
					<value>
						<designationCategory>Ferny_Foundations</designationCategory>
					</value>
				</li>

				<li Class="PatchOperationReplace">
					<success>Always</success>
					<xpath>Defs/TerrainDef[defName="VFEArch_BridgeSteelConcrete"]/designationCategory</xpath>
					<value>
						<designationCategory>Ferny_Foundations</designationCategory>
					</value>
				</li>

			</operations>
		</match>
	</Operation>
	
</Patch>