<?xml version="1.0" encoding="utf-8"?>
<Patch>

	<Operation Class="PatchOperationAddModExtension">
		<success>Always</success>
		<xpath>Defs/DesignationCategoryDef[defName="MSI"]</xpath>
		<value>
			<li Class="BetterArchitect.NestedCategoryExtension">
				<parentCategory>Production</parentCategory>
			</li>
		</value>
	</Operation>
	
<!-- POWER GENERATION -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HempolineGenerator"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HempSolarGenerator"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerGeneration</designationCategory>
		</value>
	</Operation>

<!-- POWER STORAGE -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HempBattery"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerStorage</designationCategory>
		</value>
	</Operation>
	
<!-- POWER INFRASTRUCTURE -->
	
	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="HempPowerConduit"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_PowerManagement</designationCategory>
		</value>
	</Operation>
	
<!-- FARMING -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[@ParentName="MSI_ArtableFurnitureBase"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Farming</designationCategory>
		</value>
	</Operation>
	
<!-- LIGHTING -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[@ParentName="MSI_LampBase"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Lighting</designationCategory>
		</value>
	</Operation>
	
<!-- PRODUCTION -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="PoweredCultivationBench"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Production</designationCategory>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="MedicinalsLab"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Production</designationCategory>
		</value>
	</Operation>

<!-- PROCESSING PRODUCTION -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="SmokeleafAutoTrimmer"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_ProcessingProduction</designationCategory>
		</value>
	</Operation>
	
<!-- AUXILIARIES -->

	<Operation Class="PatchOperationReplace">
		<success>Always</success>
		<xpath>Defs/ThingDef[defName="TrimmingTools"]/designationCategory</xpath>
		<value>
			<designationCategory>Ferny_Auxiliaries</designationCategory>
		</value>
	</Operation>
	
</Patch>
